!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@fiverr/i18n/singleton"),require("ua-parser-js"),require("classnames"),require("lodash"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("prop-types"),require("axios")):"function"==typeof define&&define.amd?define(["@fiverr/i18n/singleton","ua-parser-js","classnames","lodash","react","react-dom","react-redux","redux","prop-types","axios"],t):"object"==typeof exports?exports.RealtimeNotifications=t(require("@fiverr/i18n/singleton"),require("ua-parser-js"),require("classnames"),require("lodash"),require("react"),require("react-dom"),require("react-redux"),require("redux"),require("prop-types"),require("axios")):e.RealtimeNotifications=t(e.i18n,e.uaParser,e.classNames,e._,e.React16,e.ReactDOM16,e.ReactRedux,e.Redux,e.PropTypes,e.axios)}("undefined"!=typeof self?self:this,(function(e,t,n,r,o,i,a,c,u,s){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://npm-assets.fiverrcdn.com/assets/@fiverr-private/realtime_notifications/",n(n.s="tjUo")}({"/v4g":function(e,t,n){var r=n("92xy"),o=r.MOBILE_DEVICE,i=r.TABLET_DEVICE,a=r.IOS_OS_NAME,c=r.ANDROID_OS_NAME;e.exports={isMobile:function(e){return e===o},isTouch:function(e){return[o,i].includes(e)},isIos:function(e){return e===a},isAndroid:function(e){return e===c}}},"1KDd":function(e,t,n){e.exports={box:"_1qfPXcm","box-hidden":"_3aJnBCJ",boxHidden:"_3aJnBCJ",content:"_3ZcwtYT"}},"37AN":function(e,t,n){e.exports={}},"4u8D":function(t,n){t.exports=e},"63Hc":function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},"6BTq":function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return o}));var o="object"===("undefined"==typeof window?"undefined":r(window))&&window.window===window&&window||"object"===(void 0===e?"undefined":r(e))&&e.global===e&&e||"object"===("undefined"==typeof self?"undefined":r(self))&&self.self===self&&self}).call(this,n("yLpj"))},"8rrE":function(e,n){e.exports=t},"92xy":function(e,t){e.exports={MOBILE_DEVICE:"mobile",TABLET_DEVICE:"tablet",DESKTOP_DEVICE:"desktop",IOS_OS_NAME:"iOS",ANDROID_OS_NAME:"Android"}},CTb6:function(e,t,n){e.exports={}},DVPl:function(e,t,n){e.exports={}},GrKN:function(e,t,n){var r=n("e8zy"),o=n("vGzR");for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[i]=r[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},K2gz:function(e,t){e.exports=n},OxZn:function(e,t,n){var r=n("GrKN").FilterCSS,o=n("vaBj"),i=n("UOFQ"),a=i.parseTag,c=i.parseAttr,u=n("63Hc");function s(e){return null==e}function l(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}l.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,l=t.onTagAttr,f=t.onIgnoreTagAttr,p=t.safeAttrValue,d=t.escapeHtml,m=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var b=!1;if(t.stripIgnoreTagBody){b=o.StripTagBody(t.stripIgnoreTagBody,i);i=b.onIgnoreTag}var y=a(e,(function(e,t,o,a,b){var y,g={sourcePosition:e,position:t,isClosing:b,isWhite:n.hasOwnProperty(o)};if(!s(y=r(o,a,g)))return y;if(g.isWhite){if(g.isClosing)return"</"+o+">";var v=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=u.trim(e.slice(0,-1))),{html:e,closing:n}}(a),h=n[o],O=c(v.html,(function(e,t){var n,r=-1!==u.indexOf(h,e);return s(n=l(o,e,t,r))?r?(t=p(o,e,t,m))?e+'="'+t+'"':e:s(n=f(o,e,t,r))?void 0:n:n}));a="<"+o;return O&&(a+=" "+O),v.closing&&(a+=" /"),a+=">"}return s(y=i(o,a,g))?d(a):y}),d);return b&&(y=b.remove(y)),y},e.exports=l},PPEH:function(e,t,n){e.exports={}},SGQy:function(e,t,n){e.exports={}},SM5i:function(e,t,n){e.exports={}},TkJr:function(e,t,n){e.exports={popover:"_2g7EPin",content:"_1iCafnp",clickable:"_2SsU-73","inline-append":"_2dTNS5_",inlineAppend:"_2dTNS5_","popover-container":"_3QSW7Qo",popoverContainer:"_3QSW7Qo"}},UOFQ:function(e,t,n){var r=n("63Hc");function o(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=r.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function i(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function s(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",a=0,c=!1,u=!1,s=0,l=e.length,f="",p="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(!1===c){if("<"===d){c=s;continue}}else if(!1===u){if("<"===d){r+=n(e.slice(a,s)),c=s,a=s;continue}if(">"===d){r+=n(e.slice(a,c)),f=o(p=e.slice(c,s+1)),r+=t(c,r.length,f,p,i(p)),a=s+1,c=!1;continue}if('"'===d||"'"===d)for(var m=1,b=e.charAt(s-m);""===b.trim()||"="===b;){if("="===b){u=d;continue e}b=e.charAt(s-++m)}}else if(d===u){u=!1;continue}}return a<e.length&&(r+=n(e.substr(a))),r},t.parseAttr=function(e,t){"use strict";var n=0,o=[],i=!1,l=e.length;function f(e,n){if(!((e=(e=r.trim(e)).replace(a,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var p=0;p<l;p++){var d,m=e.charAt(p);if(!1!==i||"="!==m)if(!1===i||p!==n||'"'!==m&&"'"!==m||"="!==e.charAt(p-1))if(/\s|\n|\t/.test(m)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(d=c(e,p))){f(r.trim(e.slice(n,p))),i=!1,n=p+1;continue}p=d-1;continue}if(-1===(d=u(e,p-1))){f(i,s(r.trim(e.slice(n,p)))),i=!1,n=p+1;continue}}else;else{if(-1===(d=e.indexOf(m,p+1)))break;f(i,r.trim(e.slice(n+1,d))),i=!1,n=(p=d)+1}else i=e.slice(n,p),n=p+1}return n<e.length&&(!1===i?f(e.slice(n)):f(i,s(r.trim(e.slice(n))))),r.trim(o.join(" "))}},VYCE:function(e,t,n){e.exports={card:"_3PktuZ4",fadeIn:"_39se80y",expired:"_2Wo-g7f"}},VgKM:function(e,t,n){var r=n("pqiq").DEFAULT_LOCALE;t.DEFAULT_CONTEXT={locale:r,userId:0,country:"",countryCode:"",pageCtxId:"",isPro:!1,abTests:{},userAgent:"",knownCrawler:!1,csrfToken:"",browserLanguage:"",currency:"",pathParameters:{},queryParameters:{},userGuid:"",url:"",ip:"",referrer:"",isMobile:!1,isTouch:!1,isIos:!1}},VmVB:function(e,t,n){e.exports={tooltip:"fJuccPM","box-content":"_1FXzw3o",boxContent:"_1FXzw3o",box:"_13vTU13"}},XLsX:function(e,t,n){e.exports={}},Xjjk:function(e,t,n){var r=n("vaBj"),o=n("UOFQ"),i=n("OxZn");function a(e,t){return new i(t).process(e)}for(var c in(t=e.exports=a).filterXSS=a,t.FilterXSS=i,r)t[c]=r[c];for(var c in o)t[c]=o[c];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},YLtl:function(e,t){e.exports=r},cDcd:function(e,t){e.exports=o},e8zy:function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},faye:function(e,t){e.exports=i},fhAi:function(e,t,n){e.exports={container:"lAA0Kxf"}},h1NE:function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},h74D:function(e,t){e.exports=a},lXa4:function(e,t,n){e.exports={}},pqiq:function(e,t){t.DEFAULT_LOCALE="en-US"},"r/Mn":function(e,t,n){e.exports={"item-meta":"_2wxHuz2",itemMeta:"_2wxHuz2",spacer:"_2_ogauy","icn-status":"_1hnm4nW",icnStatus:"_1hnm4nW",tooltip:"_2TUCNdN"}},rKB8:function(e,t){e.exports=c},rf6O:function(e,t){e.exports=u},"rjQ/":function(e,t,n){var r=n("h1NE");e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,a=0,c="";function u(){if(!o){var n=r.trim(e.slice(i,a)),u=n.indexOf(":");if(-1!==u){var s=r.trim(n.slice(0,u)),l=r.trim(n.slice(u+1));if(s){var f=t(i,c.length,s,l,n);f&&(c+=f+"; ")}}}i=a+1}for(;a<n;a++){var s=e[a];if("/"===s&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;i=(a=l+1)+1,o=!1}else"("===s?o=!0:")"===s?o=!1:";"===s?o||u():"\n"===s&&u()}return r.trim(c)}},sXcS:function(e,t,n){e.exports={"fit-icon":"_1AB8XqH",fitIcon:"_1AB8XqH","fit-icon-clickable":"_3OLOE0g",fitIconClickable:"_3OLOE0g"}},tjUo:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"subscribe",(function(){return ee}));var o={};n.r(o),n.d(o,"addItem",(function(){return lr})),n.d(o,"itemMarkRead",(function(){return fr})),n.d(o,"itemMarkUnread",(function(){return pr}));var i,a=n("cDcd"),c=n.n(a),u=n("faye"),s=n.n(u),l=n("4u8D"),f=n.n(l),p=n("YLtl"),d=n.n(p),m=new Uint8Array(16);function b(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(m)}var y=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var g=function(e){return"string"==typeof e&&y.test(e)},v=[],h=0;h<256;++h)v.push((h+256).toString(16).substr(1));var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(v[e[t+0]]+v[e[t+1]]+v[e[t+2]]+v[e[t+3]]+"-"+v[e[t+4]]+v[e[t+5]]+"-"+v[e[t+6]]+v[e[t+7]]+"-"+v[e[t+8]]+v[e[t+9]]+"-"+v[e[t+10]]+v[e[t+11]]+v[e[t+12]]+v[e[t+13]]+v[e[t+14]]+v[e[t+15]]).toLowerCase();if(!g(n))throw TypeError("Stringified UUID is invalid");return n};var w=function(e,t,n){var r=(e=e||{}).random||(e.rng||b)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return O(r)},_=n("6BTq");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.a;return e.split(".").reduce((function(e,t){return"object"===E(e)?e[t]:e}),t)};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=["get","value","set","configurable","enumerable","writable"],j=["get","value"];function k(e,t){var n=this,r=Object.getOwnPropertyDescriptor(this.constructor.prototype,e),o=T.reduce((function(o,i){switch(C(r[i])){case"undefined":break;case"function":j.includes(i)?o[i]=function(){return t("".concat(e,"$").concat(i),r[i].bind(n))}:o[i]=r[i];break;default:o[i]=r[i]}return o}),{});Object.defineProperty(this,e,o)}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e){var t={};function n(e,n){return t[e]=e in t?t[e]:n()}for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];o.forEach((function(t){return k.call(e,t,n)}))}(this,"node","browser","development","production","testing","plike","toString")}var t,n,r;return t=e,(n=[{key:"node",get:function(){return"[object process]"===Object.prototype.toString.call(void 0!==_.a.process?_.a.process:0)}},{key:"browser",get:function(){return _.a.document&&"function"==typeof _.a.document.createElement||!this.node&&["undefined"==typeof document?"undefined":x(document),"undefined"==typeof window?"undefined":x(window)].every((function(e){return"undefined"!==e}))}},{key:"development",get:function(){return this.toString().includes("dev")}},{key:"dev",get:function(){return this.development}},{key:"production",get:function(){return this.toString().includes("prod")}},{key:"prod",get:function(){return this.production}},{key:"testing",get:function(){return this.toString().includes("test")}},{key:"test",get:function(){return this.testing}},{key:"plike",get:function(){return this.toString().includes("like")}},{key:"toString",value:function(){return((this.node?S("process.env.NODE_ENV"):S("app.environment")||function(e){if("undefined"!=typeof document){var t=document.querySelector('meta[name="'.concat(e,'"]'));return t&&t.getAttribute("content")||void 0}}("app_environment"))||"").toLowerCase()}}])&&P(t.prototype,n),r&&P(t,r),e}()),I=function(){new Audio("//fiverr-res.cloudinary.com/video/upload/t_fiverr_audio/kxzjjjzyhrqqo65doz60").play()};function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"hasFocus",value:function(){return document.hasFocus()}}])&&N(t.prototype,n),r&&N(t,r),e}();function L(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,c,"next",e)}function c(e){L(i,r,o,a,c,"throw",e)}a(void 0)}))}}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,"_queue",{}),B(this,"_queueKickedOff",{}),B(this,"_gotResponse",{}),B(this,"_callbacks",{}),B(this,"_handlers",[]),B(this,"isFocused",(function(){return n._page.hasFocus()})),B(this,"subscribe",(function(e){return n._handlers.push(e),function(){var t=n._handlers.indexOf(e);n._handlers.splice(t,1)}})),B(this,"broadcast",(function(e){n._channel&&n._channel.postMessage(e)})),B(this,"_shouldPlaySound",(function(){return new Promise((function(e){if(n._channel)if(n.isFocused())e(!0);else{var t=w();n._gotResponse[t]=!1,n._callbacks[t]||(n._callbacks[t]={}),n._callbacks[t].onEchoReportEnd=function(r){n._gotResponse[t]=!0,n._anotherTabIsOpen(r)?e(!1):n._currentTabShouldPlaySound(r)?e(!0):e(!1)},n._channel.postMessage({type:"__ECHO_TABS__",uid:t,callbackFnName:"onEchoReportEnd"}),setTimeout((function(){n._gotResponse[t]?e(!1):e(!0)}),600)}else e(!0)}))})),B(this,"_anotherTabIsOpen",(function(e){return e.some((function(e){return e.isFocused}))})),B(this,"_currentTabShouldPlaySound",(function(e){var t=Object(p.orderBy)(e,"createdAt","desc")[0];return n._createdAt>t.createdAt})),B(this,"playSound",Object(p.throttle)(D(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._shouldPlaySound();case 2:e.sent&&I();case 4:case"end":return e.stop()}}),e)}))),1e3,{trailing:!1})),B(this,"_onBroadcastMessage",(function(e){var t=e.data,r=n._tabId,o=n._createdAt,i=t.type,a=t.callbackFnName,c=t.uid;switch(i){case"__ECHO_TABS__":var u=n.isFocused();n._channel.postMessage({type:"__ECHO_TABS_RESPONSE__",uid:c,tabId:r,createdAt:o,callbackFnName:a,isFocused:u});break;case"__ECHO_TABS_RESPONSE__":n._recordInQueue({uid:c,data:t,callbackFnName:a})}n._notifySubscribers(t)})),B(this,"_notifySubscribers",(function(e){n._handlers.forEach((function(t){return t(e)}))})),B(this,"_recordInQueue",(function(e){var t=e.uid,r=e.data,o=e.callbackFnName;n._queue[t]||(n._queue[t]=[]),n._queue[t].push(r),n._queueKickedOff[t]||(n._queueKickedOff[t]=!0,setTimeout((function(){n._queueKickedOff[t]=!1,n._callbacks[t]&&n._callbacks[t][o]&&n._callbacks[t][o](n._queue[t]),n._queue[t]=[]}),500))})),A.browser&&(this._page=t,this._createdAt=Date.now(),this._tabId="".concat(w()),"BroadcastChannel"in window&&(this._channel=new BroadcastChannel("pinned_flashes::channel"),this._channel.onmessage=this._onBroadcastMessage))}var t,n,r;return t=e,r=[{key:"create",value:function(){return new e(new R)}}],(n=null)&&M(t.prototype,n),r&&M(t,r),e}().create(),q={INBOX_MESSAGES:"inbox_message_realtime_notification",PINNED_FLASHES:"pinned_flash_realtime_notification"};function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=Symbol(),V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[H]=new Map}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t){var n=this[H].get(e);n||(this[H].set(e,new Set),n=this[H].get(e)),n.add(t)}},{key:"once",value:function(e,t){var n=this,r=function r(){n.off(e,r),t.apply(void 0,arguments)};this.on(e,r)}},{key:"one",value:function(e,t){this.has(e)||this.on(e,t)}},{key:"has",value:function(e){return this[H].has(e)}},{key:"off",value:function(e,t){if(this[H].has(e))if(void 0!==t){var n=this[H].get(e);n.delete(t),0===n.size&&this[H].delete(e)}else this[H].delete(e)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this[H].get(e);o&&o.forEach((function(e){e.apply(void 0,n)}))}},{key:"deferred",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Promise.resolve().then((function(){t.emit.apply(t,[e].concat(r))}))}}])&&U(t.prototype,n),r&&U(t,r),e}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var W,G=function(e){return"object"===("undefined"==typeof Fiverr?"undefined":z(Fiverr))&&"function"==typeof Fiverr[e]||void 0},K=(W="_logErrorToServer",function(){var e;return G(W)&&(e=Fiverr)[W].apply(e,arguments)});function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z=Symbol.for("SocketHandler"),Q=Symbol.for("SocketSubscriptions");_.a[Q]=_.a[Q]||new V;var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if(t){try{t=JSON.parse(t)}catch(e){K("socketHandler","incomingHandler","unable to parse event: ".concat(t))}t&&"object"===X(t)&&t.eventType&&_.a[Q].emit(t.eventType,t)}},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;"string"==typeof t&&t.split(" ").forEach((function(t){return _.a[Q][e](t,n)}))},Y={connect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&!_.a[Z]&&A.browser?(_.a[Z]=new WebSocket(e),_.a[Z].addEventListener("open",(function(){_.a[Z].addEventListener("message",$),Y.send(t)})),_.a[Z].addEventListener("close",(function n(){setTimeout((function(){Y.connect(e,t)}),1500),_.a[Z].removeEventListener("close",n),_.a[Z].removeEventListener("message",$)})),Y):Y},send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A.browser&&1===_.a[Z].readyState&&_.a[Z].send(JSON.stringify(e)),Y},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,["on"].concat(t))},once:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,["once"].concat(t))},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return J.apply(void 0,["off"].concat(t))}};function ee(e){return function(e,t){return Y.on(e,t),function(){Y.off(e,t)}}([q.INBOX_MESSAGES,q.PINNED_FLASHES].join(" "),e)}var te=n("rf6O"),ne=n.n(te),re=n("h74D"),oe=Symbol.for("globalEventBus"),ie=_.a[oe]=_.a[oe]||new V,ae="OBS::LOGGER",ce=["debug","verbose","info","warn","error","critical"];function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=ce.reduce((function(e,t){return Object.assign(e,ue({},t,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ie.deferred(ae,{entity:e,enrichments:n,level:t})})))}),{});Object.defineProperty(se,"force",{value:ce.reduce((function(e,t){return Object.assign(e,ue({},t,(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ie.deferred(ae,{entity:e,enrichments:n,level:t,force:!0})})))}),{})});var le=se,fe=n("8rrE"),pe=n.n(fe),de=n("/v4g"),me=n("pqiq");function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ge=Symbol(),ve=function(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!1})},he=function(e){if(e[ge])return e;if(!function(e){return!!e&&Object(p.isObject)(e)&&!Array.isArray(e)}(e))return le.error("FiverrContext computed mixin target is not valid, please contact platform team."),e;var t=e.userAgent,n=pe()(t),r=n.device.type,o=n.os.name,i={isMobile:de.isMobile(r),isTouch:de.isTouch(r),isIos:de.isIos(o),isAndroid:de.isAndroid(o)};return ve(e,ge,!0),Object.entries(i).forEach((function(t){var n=be(t,2),r=n[0],o=n[1];return ve(e,r,o)})),e},Oe=n("VgKM"),we=function(){var e=d.a.get(window,"initialData.FiverrContext");return e?he(e):(le.error({message:"Browser context does not exist, please ensure the run time owner sets one on the window scope before using this API"}),Oe.DEFAULT_CONTEXT)};function _e(e,t){return function(e){return e.notifications}(e)[t]}function Ee(e){return e.toasts}function Se(e){return Ee(e).length>=3}function Ce(e){return Ee(e).map((function(t){return _e(e,t)}))}function Te(e){return e.settings}function je(e){return Te(e).realtimeEnabled}function ke(e){return e.queue}function xe(e){return 0===ke(e).length}var Pe="QUEUE_ACTIONS_ENQUEUE",Ae="QUEUE_ACTIONS_DEQUEUE",Ie="QUEUE_ACTIONS_REMOVE";var Ne=function(){return function(e,t){if(xe(t()))return null;var n=ke(t())[0];return e({type:Ae}),n}};var Re=function(e){return function(){F.broadcast(function(e){return{type:"TAB_COMMUNICATION_NOTIFICATION_CONSUMED",payload:e}}(e))}};var Le=["count","time","gauge","set","histogram"];function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=Le.reduce((function(e,t){return Object.assign(e,De({},t,(function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.rate,a=o.tags;Object.entries({prefix:e,metric:n}).forEach((function(e,t){var n=Be(e,2),r=n[0],o=n[1];if("string"!=typeof o||!o)throw new TypeError("Expected argument ".concat(t," (").concat(r,") to be a string. Instead got ").concat(Me(o)," (").concat(o,")"))}));var c=[e,n].join(".");return ie.deferred("OBS::STATS",{type:t,key:c,value:r,rate:i,tags:a})})))}),{});Object.defineProperty(qe,"prefix",{value:function(e){return Le.reduce((function(t,n){return Object.assign(t,De({},n,qe[n].bind(qe,e)))}),{})}});var Ue=qe;function He(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(".")}var Ve=He("pinned_flashes","realtime_notifications_package");var ze={count:function(e){Ue.count(Ve,e)}};function We(e){return He("toast",e)}var Ge={NOTIFICATION_TOAST_EMITTED:We("emitted"),NOTIFICATION_TOAST_CLICKED:We("clicked"),NOTIFICATION_TOAST_DISMISSED:We("dismissed")},Ke="TOASTS_ACTIONS_ADD";var Xe=function(e){return function(t){t({type:"TOASTS_ACTIONS_REMOVE",payload:e}),t(function(e){return{type:"NOTIFICATIONS_ACTIONS_REMOVE",payload:e}}(e)),t(Ze())}},Ze=function(){return function(e,t){if(!Se(t())){var n=e(Ne());if(!Object(p.isNil)(n))e(function(e){return{type:Ke,payload:e}}(_e(t(),n))),e(Re(n)),ze.count(Ge.NOTIFICATION_TOAST_EMITTED)}}};var Qe="NOTIFICATIONS_ACTIONS_ADD";function $e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye=function(e){return function(t,n,r){var o=r.tabManager,i=n();if(t(function(e){return{type:Qe,payload:e}}(e)),function(e){return Te(e).soundEnabled}(i)&&o.playSound(),!function(e,t){return!!_e(e,t)}(i,e.id)){var a=o.isFocused()&&!Se(i);t(function(e){return{type:Pe,payload:e.id}}(e)),a&&t(Ze())}}};var et=function(e){return function(t){t(function(e){return{type:Ie,payload:e}}(e))}};var tt="SETTINGS_ACTIONS_SET_SOUND_ENABLED";function nt(e){return e.username}var rt=ne.a.shape({subscribe:ne.a.func.isRequired}),ot=ne.a.shape({id:ne.a.string.isRequired,subType:ne.a.string,msgParams:ne.a.object}),it=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object(p.transform)(n,(function(t,n){var r=Object(p.result)(e,n);return r&&t.push(r),!t.length}),[])[0]};function at(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return st(st({},e),{},lt({},t[0],it.apply(void 0,[e].concat(at(t)))||n))},pt={admin_moved_gig:"pencil",and_co_announcement:"present",audio_file_deny:"pencil",business_accounts_team_invitation_accepted_invitee:"team",business_accounts_team_invitation_accepted_invitor:"member",business_accounts_team_invitation_created:"team",workspaces_team_invitation_accepted:"member",workspaces_team_invitation_created:"team",buyer_brief_notification_for_buyer_multi:"docs",buyer_brief_notification_for_buyer_single:"docs",buyer_brief_notification_for_buyer:"docs",buyer_profile_reminder:"form",buying_conversion_prediction_intervention_b:"bell",buying_conversion_prediction_intervention_c:"bell",buying_conversion_prediction_intervention:"bell",byob_user_notification:"present",custom:"present",delayed_private_review:"pencil",deny_user_notif:"times",featured_promotion:"ribbon",free_gig:"present",gig_handpicked:"ribbon",gig_pro_toggled_off:"docs",gig_pro_toggled_on:"docs",id_verification_document_unrecognized:"bell",id_verification_failed:"bell",id_verification_indecisive_max_tries:"bell",id_verification_indecisive_try_again:"bell",id_verification_low_quality:"bell",id_verification_passed:"bell",level_down_notification:"ribbon",level_trs_kept_notification:"ribbon",level_trs_nominated_notification:"ribbon",level_two_kept_notification:"ribbon",level_up_notification:"ribbon",new_levels_system_notification:"ribbon",new_user_notification:"docs",notify_user_on_referral_registration:"present",optional_phone_verification:"phone",pro_seller_account_created:"docs",profile_image_not_unique_deleted:"pencil",profile_image_not_unique_warning:"pencil",prompt_user_change_password:"docs",request_paused:"docs",request_unapproved:"times",seo_restructure_announcement:"pencil",shopping_balance_deposit_pending:"present",shopping_balance_deposit_share:"present",shopping_balance_deposit:"present",soft_deny_user_notif:"pencil",team_member_added:"docs",trigger_id_verification:"bell",try_live:"bell",welcome_back_from_ooo_mode:"suitcase",business_chat_added:"bell"},dt=function(e){return ft(e,["username","msg_params.seller","msg_params.user","msg_params.buyer"])},mt=function(e){return ft(e,["unreadCount","unread_count"])},bt=function(e){return ft(e,["type","msg_type"])},yt=function(e){return ft(e,["subType","sub_type"])},gt=function(e){return ft(e,["profilePicture","images.user","msg_params.images.user","msg_params.images.profile_image"])},vt=function(e){return ft(e,["msg_params.icon"],pt[e.subType])},ht=function(e){return ft(e,["isRead","is_read"])},Ot=function(e){return ft(e,["online","is_online"])},wt=function(e){return ft(e,["url","msg_params.full_url","msg_params.url"],"#!")},_t=function(e){return ft(e,["previewImage","images.gig"])},Et=function(e){return ft(e,["userMessage","params.message_content","preview_text"])},St=function(e){return"inbox"===e.type?e:ft(e,["content","params.content","msg_params.content"],"DEFAULT_VALUE")},Ct=function(e){return[dt,mt,bt,yt,gt,vt,ht,Ot,wt,_t,Et,St].reduce((function(e,t){return t(e)}),e)},Tt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.module,o=void 0===r?"":r,i=n.payload,a=void 0===i?{}:i;(t=e instanceof Error?e:"string"==typeof e?new Error(e):new Error("Something went wrong")).details={payload:a,package:"@fiverr-private/realtime_notifications",module:o},setTimeout((function(){throw t}))};function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return It(this,n)}}function It(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rt=function(e,t){return function(n){return function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(s,r);var o,i,a,u=At(s);function s(){return kt(this,s),u.apply(this,arguments)}return o=s,(i=[{key:"componentDidCatch",value:function(n){Tt(n,{module:e,payload:{componentName:t}})}},{key:"render",value:function(){return c.a.createElement(n,this.props)}}])&&xt(o.prototype,i),a&&xt(o,a),s}(c.a.Component)}};function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ut(e);if(t){var o=Ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(i,e);var t,n,r,o=Bt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ht(qt(t=o.call(this,e)),"onRealtimeSettingsChange",(function(){t.props.realtimeEnabled?t.registerSocket():(t.socketUnsubscribe(),t.socketUnsubscribe=p.noop)})),Ht(qt(t),"handleNewNotification",(function(e){(0,t.props.handleNewNotification)(Ct(e))})),Ht(qt(t),"onCurrentTabStorageChange",(function(e){var n=e.detail;t.onStorageChanges(n)})),Ht(qt(t),"registerToSettingsChanges",(function(){window.addEventListener("storage",t.onStorageChanges),document.addEventListener("realtime_notifications::sound_enabled_change",t.onCurrentTabStorageChange),document.addEventListener("realtime_notifications::realtime_enabled_change",t.onCurrentTabStorageChange)})),Ht(qt(t),"onStorageChanges",(function(e){var n=e.key,r=e.newValue,o=t.props,i=o.setSoundEnabled,a=o.setNotificationsEnabled,c="true"===r;switch(n){case"realtime_notifications::sound_enabled_change":i(c);break;case"realtime_notifications::realtime_enabled_change":a(c)}})),Ht(qt(t),"registerToTryMeDemoEvent",(function(){document.addEventListener("realtime_notifications::try_me",t.onTryMeDemoEvent)})),Ht(qt(t),"onTryMeDemoEvent",(function(){var e=function(e){return{id:"dummy",type:"notifications",sub_type:"try_live",is_read:!0,updated_at:Math.round(Date.now()/1e3),msg_params:{user:e}}}(t.props.username);t.handleNewNotification(e)})),t.socketUnsubscribe=p.noop,t.handleCrossTabCommunications=t.handleCrossTabCommunications.bind(qt(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.onRealtimeSettingsChange(),this.registerToTryMeDemoEvent(),this.registerToSettingsChanges(),this.props.tabManager.subscribe(this.handleCrossTabCommunications),this.registerWindowFocus()}},{key:"componentDidUpdate",value:function(e){this.props.realtimeEnabled!==e.realtimeEnabled&&this.onRealtimeSettingsChange()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("realtime_notifications::try_me",this.onTryMeDemoEvent),window.removeEventListener("storage",this.onStorageChanges),document.removeEventListener("realtime_notifications::sound_enabled_change",this.onCurrentTabStorageChange),document.removeEventListener("realtime_notifications::realtime_enabled_change",this.onCurrentTabStorageChange),this.socketUnsubscribe()}},{key:"registerSocket",value:function(){var e=this.props.socket;this.socketUnsubscribe=e.subscribe(this.handleNewNotification)}},{key:"registerWindowFocus",value:function(){window.addEventListener("focus",this.props.handleFocus)}},{key:"handleCrossTabCommunications",value:function(e){switch(e.type){case"TAB_COMMUNICATION_NOTIFICATION_CONSUMED":var t=e.payload;this.props.markNotificationConsumed(t)}}},{key:"render",value:function(){return null}}])&&Dt(t.prototype,n),r&&Dt(t,r),i}(c.a.Component);Vt.propTypes={socket:rt,username:ne.a.string.isRequired,handleNewNotification:ne.a.func.isRequired,tabManager:ne.a.object.isRequired,handleFocus:ne.a.func.isRequired,markNotificationConsumed:ne.a.func.isRequired,setNotificationsEnabled:ne.a.func.isRequired,setSoundEnabled:ne.a.func.isRequired,realtimeEnabled:ne.a.bool.isRequired};var zt=Object(p.flow)(Object(re.connect)((function(e){return{username:nt(e),realtimeEnabled:je(e)}}),(function(e){return{handleNewNotification:function(t){return e(Ye(t))},handleFocus:function(){return e((function(e){var t,n=$e(Object(p.range)(3));try{for(n.s();!(t=n.n()).done;)t.value,e(Ze())}catch(e){n.e(e)}finally{n.f()}}))},setSoundEnabled:function(t){return e({type:tt,payload:t})},setNotificationsEnabled:function(t){return e({type:"SETTINGS_ACTIONS_SET_NOTIFICATIONS_ENABLED",payload:t})},markNotificationConsumed:function(t){return e(et(t))}}})),Rt("realtime_notifications","Listener"))(Vt);function Wt(e){var t=document.querySelector('link[rel="shortcut icon"]');t&&t.setAttribute("href",e)}var Gt={decorate:function(){Wt("https://npm-assets.fiverrcdn.com/assets/@fiverr-private/realtime_notifications/favicon-active.fc73bac.ico")},reset:function(){Wt("https://npm-assets.fiverrcdn.com/assets/@fiverr-private/realtime_notifications/favicon.5b3b346.ico")}};function Kt(e){return e.isActive?c.a.createElement(Zt,null):c.a.createElement(Xt,null)}function Xt(){return Object(a.useEffect)((function(){Gt.reset()}),[]),null}function Zt(){return Object(a.useEffect)((function(){Gt.decorate()}),[]),null}Kt.propTypes={isActive:ne.a.bool.isRequired};var Qt=Object(p.flow)(Object(re.connect)((function(e){return{isActive:!xe(e)||!function(e){return 0===Ee(e).length}(e)}})),Rt("realtime_notifications","Favicon"))(Kt),$t=n("rKB8");function Jt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var Yt=Jt();Yt.withExtraArgument=Jt;var en=Yt;function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e){return function(e){if(Array.isArray(e))return e}(e)||un(e)||cn(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e){return function(e){if(Array.isArray(e))return sn(e)}(e)||un(e)||cn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){if(e){if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(e,t):void 0}}function un(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e){return function(e){if(Array.isArray(e))return mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bn=Object($t.combineReducers)({notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:var n=t.payload;return nn(nn({},e),{},rn({},n.id,n));case"NOTIFICATIONS_ACTIONS_REMOVE":var r=t.payload,o=nn({},e);return delete o[r.id],o;default:return e}},toasts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:var n=t.payload;return[].concat(dn(e),[n.id]);case"TOASTS_ACTIONS_REMOVE":var r=t.payload;return e.filter((function(e){return e!==r.id}));default:return e}},queue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return[].concat(an(e),[t.payload]);case Ae:var n=on(e),r=n.slice(1);return r;case Ie:var o=t.payload;return e.filter((function(e){return e!==o}));default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return fn(fn({},e),{},{soundEnabled:t.payload});case"SETTINGS_ACTIONS_SET_NOTIFICATIONS_ENABLED":return fn(fn({},e),{},{realtimeEnabled:t.payload});default:return e}},username:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}}),yn="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||$t.compose;function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var On=function(e){return function(t){var n=vn(vn({},we()),t);return c.a.createElement(e,n)}},wn={children:te.func.isRequired,locale:te.string};function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sn=function(e){var t=e.children,n=e.locale,r=void 0===n?me.DEFAULT_LOCALE:n;return t({i18n:i18n.spawn(r)})};Sn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},wn);var Cn=On(Sn);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nn(e);if(t){var o=Nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return In(this,n)}}function In(e,t){if(t&&("object"===Tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(i,e);var t,n,r,o=An(i);function i(){return kn(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"getChildContext",value:function(){return{locale:this.props.locale}}},{key:"render",value:function(){return this.props.children}}])&&xn(t.prototype,n),r&&xn(t,r),i}(c.a.Component);Rn.childContextTypes={locale:ne.a.string,children:ne.a.any},Rn.propTypes={locale:ne.a.string,children:ne.a.any};var Ln=function(e){function t(t,n){var r=n.locale;return c.a.createElement(Cn,{locale:r},(function(n){var r=n.i18n;return c.a.createElement(e,jn({i18n:r},t))}))}return t.contextTypes={locale:ne.a.string},t.displayName="I18nProviderHoc(".concat(e.displayName||e.name||"Component",")"),t},Dn=n("K2gz"),Mn=n.n(Dn),Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t){return function(n){return c.a.createElement(t,e(n))}}};n("lXa4");function Fn(e){var t=e.username,n=e.imageUrl,r=e.online,o=Mn()("profile-picture",{online:r});return c.a.createElement("div",{className:o,title:t},t&&c.a.createElement("div",{className:"user-initial font-accent"},t[0]),n&&c.a.createElement("div",{style:{backgroundImage:"url(".concat(n,")")},className:"user-image"}))}Fn.propTypes={username:ne.a.string,imageUrl:ne.a.string,online:ne.a.bool},Fn.defaultProps={online:!1};var qn=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelector("img");return n?n.getAttribute("src"):null},Un=Object(p.flow)(Bn((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item;return{username:t.username,online:t.online,imageUrl:qn(t.profilePicture)}})),Rt("realtime_notifications_shared","ProfilePicture"))(Fn);n("SM5i");function Hn(e){var t=e.icon,n=e.isRead,r=Mn()(["notification-icon",t],{read:n});return c.a.createElement("i",{className:r})}Hn.propTypes={icon:ne.a.string,isRead:ne.a.bool},Hn.defaultProps={icon:"bell",isRead:!1};var Vn=Bn((function(e){var t=e.item;return{isRead:t.isRead,icon:t.icon}}))(Hn),zn=n("zr5I"),Wn=n.n(zn),Gn=function(e){return!0===e?"":"=".concat(encodeURIComponent(e))},Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return t+Gn(e[t])})).join("&")},Xn=/\(?([^(]?):(\w+)\)?/g,Zn="[pathfinder]:",Qn=function(e,t){var n=[Zn,e].join(" ");le.error(n),"function"==typeof t&&t(n)},$n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.errorCallback,i=r.query,a=r.absolute;if(!e||"string"!=typeof e)return Qn("Route missing for ".concat(e),o),"/";if(0===e.indexOf("__dev__"))return Qn("Using dev only route. Make sure to replace it before going live."),"/";try{t=fiverrRoutes[e]}catch(e){return Qn("Missing global routes object",o),"/"}if(!t)return Qn("Can't find the requested route (".concat(e,"). It may be misspelled or got removed"),o),"/";var c=[];return t=t.replace(Xn,(function(e,t,r){if(n){var o=n[r];if(o)return"".concat(t).concat(o)}return"("!==e[0]&&c.push(r),""})),c.length?(Qn("Required params missing for ".concat(e," route: ").concat(c.join(", ")),o),"/"):(i&&(t=[t,Kn(i)].join("?")),a?"https://www.fiverr.com"+t:t)};function Jn(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Yn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jn(i,r,o,a,c,"next",e)}function c(e){Jn(i,r,o,a,c,"throw",e)}a(void 0)}))}}var er,tr="notifications_drawer_package/src/api/toggleRead/index.js",nr={markNotificationUnread:$n("mark_notifications_item_as_unread"),markNotificationRead:$n("mark_notifications_item_as_read"),markConversationUnread:$n("mark_as_unread_conversations"),markConversationRead:$n("mark_as_read_conversations")},rr=function(){var e=Yn(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn()({url:nr.markNotificationUnread,method:"POST",data:{id:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),Tt(e.t0,{module:"notification_drawer",payload:{filename:tr,url:nr.markNotificationUnread,action:"markNotificationUnread",message:"Failed toggling item state"}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Yn(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn()({url:nr.markNotificationRead,method:"POST",data:{id:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),Tt(e.t0,{filename:tr,url:nr.markNotificationRead,action:"markNotificationRead",message:"Failed toggling item state"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=Yn(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn()({url:nr.markConversationUnread,method:"POST",data:{id:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),Tt(e.t0,{filename:tr,url:nr.markConversationUnread,action:"markConversationUnread",message:"Failed toggling item state"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ar=function(){var e=Yn(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn()({url:nr.markConversationRead,method:"POST",data:{id:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),Tt(e.t0,{filename:tr,url:nr.markConversationRead,action:"markConversationRead",message:"Failed toggling item state"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),cr=function(e){return"notifications"===e};function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ur(er={},"conversations","preview_conversations"),ur(er,"notifications","preview_pinned_flashes");var sr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{type:"ACTION_TYPE_MONITOR",label:["NotificationsDrawer",e].concat(n).filter(Boolean).join(".")}},lr=function(e,t){return{source:e,item:Ct(t),type:"ITEM_ADD"}},fr=function(e){var t=e.source,n=e.id;return function(e){!function(e){var t=e.source,n=e.id;(cr(t)?or:ar)(n)}({source:t,id:n}),e(sr(t,"mark_item","read")),e({source:t,id:n,type:"ITEM_MARK_READ"})}},pr=function(e){var t=e.source,n=e.id;return function(e){!function(e){var t=e.source,n=e.id;(cr(t)?rr:ir)(n)}({source:t,id:n}),e(sr(t,"mark_item","unread")),e({source:t,id:n,type:"ITEM_MARK_UNREAD"})}},dr=["mobile","tablet"],mr=pe()().device.type,br="mobile"===mr,yr=dr.includes(mr),gr={WILL_OPEN:"togglerWillOpen",DID_OPEN:"togglerDidOpen",WILL_CLOSE:"togglerWillClose",DID_CLOSE:"togglerDidClose"},vr="shouldPreventCloseAction";function hr(e){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _r(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Er(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_r(i,r,o,a,c,"next",e)}function c(e){_r(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xr(e);if(t){var o=xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}function jr(e,t){if(t&&("object"===hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ar=function(e){return"function"==typeof e},Ir=function(e){if(Ar(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},Nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(i,e);var t,n,r,o=Tr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Pr(kr(t=o.call(this,e)),"onBodyClick",(function(e){var n=t.state.isOpen,r=e.target;return n?Ar(t.shouldPreventCloseAction)&&!0===t.shouldPreventCloseAction(e)||t.shouldPreventPropagationByClassName(r)||t.shouldPreventPropagationByElement(r)?null:void t.close(e):null})),Pr(kr(t),"notPropagatingElements",new Set),Pr(kr(t),"open",function(){var e=Er(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.persist&&n.persist(),!((r=Ir(t[gr.WILL_OPEN],n))instanceof Promise)){e.next=5;break}return e.next=5,r;case 5:t.setState({isOpen:!0},(function(){t.bindClickListener(),Ir(t[gr.DID_OPEN],n)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pr(kr(t),"close",function(){var e=Er(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.persist&&n.persist(),!((r=Ir(t[gr.WILL_CLOSE],n))instanceof Promise)){e.next=5;break}return e.next=5,r;case 5:t.setState({isOpen:!1},(function(){t.removeClickListener(),Ir(t[gr.DID_CLOSE],n)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pr(kr(t),"toggle",function(){var e=Er(regeneratorRuntime.mark((function e(n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state.isOpen,o=r?t.close:t.open,e.next=4,o(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pr(kr(t),"bindClickListener",(function(){!1!==t.props.bindBodyClickListener&&document.body.addEventListener("click",t.onBodyClick)})),Pr(kr(t),"removeClickListener",(function(){return document.body.removeEventListener("click",t.onBodyClick)})),Pr(kr(t),"shouldPreventPropagationByClassName",(function(e){return!(!e||!e.classList)&&e.classList.contains("ui-toggle-prevent-close")})),Pr(kr(t),"shouldPreventPropagationByElement",(function(e){if(!e)return!1;if(!e.contains)return!1;if(!t.notPropagatingElements.size)return!1;if(t.notPropagatingElements.has(e))return!0;var n,r=Or(t.notPropagatingElements);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.contains&&o.contains(e))return!0}}catch(e){r.e(e)}finally{r.f()}return!1})),Pr(kr(t),"preventCloseAction",(function(e){if(e)return t.notPropagatingElements.has(e)?null:void t.notPropagatingElements.add(e)})),t.state={isOpen:e.defaultOpen||!1},[gr.WILL_OPEN,gr.DID_OPEN,gr.WILL_CLOSE,gr.DID_CLOSE,vr].forEach((function(n){Ar(t[n])?t[n]=t[n].bind(kr(t)):Ar(e[n])&&(t[n]=e[n].bind(kr(t)))}),kr(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.state.isOpen&&this.bindClickListener()}},{key:"componentWillUnmount",value:function(){this.removeClickListener()}},{key:"render",value:function(){var e=this.props.children;if(!["undefined","function"].includes(hr(e)))throw new TypeError("Toggler: `children` must be a function");var t=this.close,n=this.open,r=this.toggle,o=this.preventCloseAction,i=this.state.isOpen,a=this.toggleContent?this.toggleContent.bind(this):e;return a?a({isOpen:i,close:t,open:n,toggle:r,preventCloseAction:o}):null}}])&&Sr(t.prototype,n),r&&Sr(t,r),i}(a.Component);Nr.propTypes={children:te.node,bindBodyClickListener:te.bool,defaultOpen:te.bool},Nr.defaultProps={defaultOpen:!1},Object.assign(Nr,{PREVENT_CLOSE_CLASS:"ui-toggle-prevent-close"});var Rr=Nr;function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Dr,Mr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,o=Object.assign({},t,r?r.props:{},n);return c.a.isValidElement(r)?c.a.cloneElement(r,o):("function"==typeof e&&(r=e(o)),["undefined","boolean"].includes(Lr(r))?null:r)};function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fr=function(e,t){return Object.keys(qr).map((function(e){return"".concat(t,".").concat(e)})).join(", ")},qr={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",LEFT_TOP:"left-top",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ur=(Br(Dr={},"left","right"),Br(Dr,"right","left"),Br(Dr,"top","bottom"),Br(Dr,"bottom","top"),Dr),Hr={CLICK:"click",HOVER:"hover"},Vr="Position passed is not a valid position. Valid positions include: ".concat(Fr(0,"POSITIONS")),zr="Trigger passed is not a valid trigger. Valid triggers include: ".concat(Fr(0,"TRIGGERS")),Wr={attributes:["class"],childList:!0,subtree:!0,characterData:!0},Gr=function(e){var t=e.position,n=e.boxDimensions,r=e.anchorDimensions,o=window,i=o.innerWidth,a=o.innerHeight;switch(t){case qr.LEFT:return r.left-n.width<0;case qr.RIGHT:return r.right+n.width>i;case qr.TOP:return r.top-n.height<0;case qr.BOTTOM:return r.bottom+n.height>a;default:return!1}},Kr=n("1KDd"),Xr=n.n(Kr);function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){$r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eo=function(e){var t=e.position,n=e.box,r=e.anchor,o=e.allowOverflow,i=e.fullWidth,a=e.boxFitContent,c=e.appendToBody;if(!n||!r)return{};var u,s=r.getBoundingClientRect();u=c?s:{top:r.offsetTop,bottom:r.offsetTop+s.height,left:r.offsetLeft,right:r.offsetLeft+s.width,width:s.width,height:s.height};var l,f,d=n.getBoundingClientRect(),m=u,b=m.top,y=m.bottom,g=m.left,v=m.right,h=m.width,O=m.height,w=d.width,_=d.height,E=b+O/2-_/2,S=g+h/2-w/2,C=Jr(t.split("-"),2),T=C[0],j=C[1];!o&&Gr({boxDimensions:d,anchorDimensions:s,position:T})&&(T=Ur[T]);var k=function(e){return Object(p.camelCase)(["padding",Object(p.capitalize)(Ur[e])].join(""))}(T),x=function(e){var t=e.position,n=e.anchorDimensions,r=e.boxDimensions;switch(t){case qr.LEFT:return n.left-r.width;case qr.RIGHT:return n.left+n.width;case qr.TOP:return n.top-r.height;case qr.BOTTOM:return n.bottom}}({anchorDimensions:u,boxDimensions:d,position:T});switch(T){case qr.LEFT:case qr.RIGHT:f=E,l=x;break;case qr.TOP:case qr.BOTTOM:f=x,l=S}switch(j){case qr.LEFT:l=g;break;case qr.RIGHT:l=v-w;break;case qr.TOP:f=b;break;case qr.BOTTOM:f=y-_}i&&(l=8);var P="".concat(c?window.scrollX+l:l,"px"),A="".concat(c?window.scrollY+f:f,"px");return{style:Qr(Qr(Qr({},i&&{width:"".concat(window.innerWidth-16,"px")}),a&&{minWidth:"".concat(u.width,"px")}),{},$r({left:P,top:A},k,"".concat(8,"px"))),position:[T,j].filter(Boolean).join("-")}},to=function(e){var t=e.children,n=e.position,r=e.container,o=e.anchor,i=e.className,s=e.contentClassName,l=e.allowOverflow,f=void 0!==l&&l,d=e.fullWidth,m=void 0!==d&&d,b=e.boxFitContent,y=void 0===b||b,g=e.isOpen,v=void 0!==g&&g,h=e.style,O=void 0===h?{}:h,w=e.onMouseLeave,_=void 0===w?p.noop:w,E=e.onMouseEnter,S=void 0===E?p.noop:E,C=e.preventCloseAction,T=void 0===C?p.noop:C,j=e.appendToBody,k=void 0===j||j,x=e.trigger,P=void 0===x?Hr.CLICK:x,A=Jr(Object(a.useState)(null),2),I=A[0],N=A[1],R=Jr(Object(a.useState)(n),2),L=R[0],D=R[1],M=Mn()(Xr.a.box,$r({},Xr.a.boxHidden,!v),i),B=Mn()(Xr.a.content,s);if(Object(a.useEffect)((function(){if(I){var e=function(){if(v){var e=eo({position:n,anchor:o,box:I,allowOverflow:f,fullWidth:m,boxFitContent:y,appendToBody:k});D(e.position),Object.assign(I.style,e.style)}},t=new MutationObserver(e);t.observe(I,Wr),v&&e();var r=function e(t){return t?t.scrollHeight>t.clientHeight?t:e(t.parentNode):null}(o);return r&&r.addEventListener("scroll",e),window.addEventListener("resize",e),k&&P===Hr.HOVER&&window.addEventListener("scroll",e),function(){t.disconnect(),r&&r.removeEventListener("scroll",e),window.removeEventListener("resize",e),k&&P===Hr.HOVER&&window.removeEventListener("scroll",e)}}}),[I,o,n,f,m,v]),!Object.values(qr).includes(n))throw new Error(Vr);return r&&t?Object(u.createPortal)(c.a.createElement("aside",{className:M,"data-position":L,ref:function(e){T(e),N(e)},style:O,onMouseLeave:_,onMouseEnter:S},c.a.createElement("div",{className:B},Mr(t))),r):null};to.propTypes={children:ne.a.node.isRequired,position:ne.a.oneOf(Object.values(qr)).isRequired,container:ne.a.object,isOpen:ne.a.bool,style:ne.a.object,anchor:ne.a.object,className:ne.a.string,contentClassName:ne.a.string,allowOverflow:ne.a.bool,fullWidth:ne.a.bool,boxFitContent:ne.a.bool,preventCloseAction:ne.a.func,onMouseLeave:ne.a.func,onMouseEnter:ne.a.func,appendToBody:ne.a.bool,trigger:ne.a.oneOf(Object.values(Hr))};var no=to,ro=n("TkJr"),oo=n.n(ro);function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ao=["trigger","children"];function co(){return(co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function uo(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function so(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){uo(i,r,o,a,c,"next",e)}function c(e){uo(i,r,o,a,c,"throw",e)}a(void 0)}))}}function lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vo(e);if(t){var o=vo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yo(this,n)}}function yo(e,t){if(t&&("object"===io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return go(e)}function go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wo=function(e){return"function"==typeof e},_o=function(e){return br&&function(e){var t=ho(e.split("-"),1)[0];return[qr.LEFT,qr.RIGHT].includes(t)}(e)?qr.TOP:e},Eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(u,e);var t,n,r,o,i,a=bo(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).state=t.state||{},Object.assign(t.state,{container:null}),t.mouseLeaveTimeout=null,t.cancelMouseLeave=t.cancelMouseLeave.bind(go(t)),t.setContentRef=t.setContentRef.bind(go(t)),t}return t=u,(n=[{key:"componentWillUnmount",value:function(){var e=this.state.container,t=this.props.appendToBody;e&&(t?document.body.removeChild(e):this.anchorElement.parentNode.removeChild(e))}},{key:"popoverProps",get:function(){var e=this.open,t=this.close,n=this.toggle,r=this.preventCloseAction,o=this.state.isOpen,i=this.props,a=(i.trigger,i.children,fo(i,ao));return Object.assign({open:e,close:t,toggle:n,preventCloseAction:r,isOpen:o},a)}},{key:"eventHandlers",get:function(){var e=this,t=this.props.trigger,n=this.state.isOpen;switch(t){case Hr.CLICK:return{onClick:this.toggle};case Hr.HOVER:return{onMouseEnter:function(){e.cancelMouseLeave(),!n&&e.open.apply(e,arguments)},onMouseLeave:function(){e.mouseLeaveTimeout=setTimeout(e.close,50)}};default:throw new Error(zr)}}},{key:"wrapperClasses",get:function(){var e=this.props,t=e.trigger,n=e.className,r=e.openClassName,o=e.appendToBody,i=this.state.isOpen;return Mn()(oo.a.popover,lo({},oo.a.clickable,t===Hr.CLICK),lo({},oo.a.inlineAppend,!o),n,lo({},r,r&&i))}},{key:"containerClasses",get:function(){var e=this.props,t=e.containerClassName,n=e.className;return Mn()(t,n,oo.a.popoverContainer)}},{key:"generateContainer",value:function(){if(!this.state.container){var e=this.props.appendToBody,t=document.createElement("div");t.className=this.containerClasses,e?document.body.appendChild(t):this.anchorElement.parentNode.appendChild(t),this.setState({container:t})}}},{key:"cancelMouseLeave",value:function(){clearTimeout(this.mouseLeaveTimeout)}},{key:"setContentRef",value:function(e){var t=this.state.isOpen,n=this.props.contentRef;this.anchorElement=e,t&&this.generateContainer(),n(e)}},{key:"togglerWillOpen",value:(i=so(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.willOpen,this.generateContainer(),!wo(n)){e.next=5;break}return e.next=5,n(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"togglerDidOpen",value:function(e){var t=this.props.onOpen;wo(t)&&t(e)}},{key:"togglerWillClose",value:(o=so(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.willClose,!wo(n)){e.next=4;break}return e.next=4,n(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"togglerDidClose",value:function(e){var t=this.props.onClose;wo(t)&&t(e)}},{key:"render",value:function(){var e=this.eventHandlers,t=this.props,n=t.children,r=t.contentClassName,o=t.content,i=t.style,a=t.position,u=t.allowOverflow,s=t.fullWidth,l=t.boxFitContent,f=t.boxClassName,p=t.boxContentClassName,d=t.appendToBody,m=t.trigger,b=this.state,y=b.isOpen,g=b.container,v=Mn()(oo.a.content,r),h=_o(a);return c.a.createElement("div",{className:this.wrapperClasses,ref:this.preventCloseAction},c.a.createElement("span",co({className:v,ref:this.setContentRef},e),Mr(n,this.popoverProps)),c.a.createElement(no,{isOpen:y,className:f,contentClassName:p,style:i,container:g,anchor:this.anchorElement,position:h,allowOverflow:u,fullWidth:br&&s,boxFitContent:l,onMouseEnter:this.cancelMouseLeave,onMouseLeave:e.onMouseLeave,preventCloseAction:this.preventCloseAction,appendToBody:d,trigger:m},Mr(o,this.popoverProps)))}}])&&po(t.prototype,n),r&&po(t,r),u}(Rr);Eo.propTypes={children:te.node.isRequired,content:te.node.isRequired,position:Object(te.oneOf)(Object.values(qr)),allowOverflow:te.bool,trigger:Object(te.oneOf)(Object.values(Hr)),contentRef:te.func,className:te.string,contentClassName:te.string,openClassName:te.string,containerClassName:te.string,boxClassName:te.string,boxContentClassName:te.string,style:te.object,fullWidth:te.bool,boxFitContent:te.bool,willOpen:te.func,willClose:te.func,onOpen:te.func,onClose:te.func,defaultOpen:te.bool,appendToBody:te.bool},Eo.defaultProps={position:qr.TOP,allowOverflow:!1,fullWidth:!1,boxFitContent:!0,trigger:Hr.CLICK,style:{},contentRef:p.noop,defaultOpen:!1,appendToBody:!0},Object.assign(Eo,{POSITIONS:qr,TRIGGERS:Hr});var So=Eo,Co=n("VmVB"),To=n.n(Co),jo=["className","boxClassName","boxContentClassName","content","delay"];function ko(){return(ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Po=So.POSITIONS,Ao=So.TRIGGERS,Io=function(e){var t=e.className,n=e.boxClassName,r=e.boxContentClassName,o=e.content,i=e.delay,a=xo(e,jo),u=Mn()(To.a.tooltip,t),s=Mn()(To.a.box,n),l=Mn()(To.a.boxContent,r),f=yr?Ao.CLICK:Ao.HOVER;return c.a.createElement(So,ko({className:u,key:i.toString(),willOpen:function(e){return new Promise((function(t){if(i&&e.target){var n=e.target,r=setTimeout(t,1e3);n.addEventListener("mouseleave",(function e(){clearTimeout(r),n.removeEventListener("mouseleave",e)}),{once:!0})}else t()}))},content:o,fullWidth:br,boxFitContent:!1,trigger:f,position:Po.TOP,boxClassName:s,boxContentClassName:l},a))};Io.propTypes={delay:ne.a.bool},Io.defaultProps={delay:!1},Object.assign(Io.propTypes,So.propTypes),Object.assign(Io,{POSITIONS:Po});var No=Io;n("CTb6");function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Do(e){var t=e.isRead,n=e.toggleRead,r=e.i18n,o=Mn()("toggle-read",{read:t}),i=r.t("realtime_notifications.notifications_drawer.mark_".concat(t?"unread":"read"));return c.a.createElement(No,{content:i,position:No.POSITIONS.LEFT,containerClassName:"toggle-read-tooltip-container"},c.a.createElement("button",{className:o,onClick:function(e){e.preventDefault(),e.stopPropagation(),n()}}))}Do.propTypes={isRead:ne.a.bool,toggleRead:ne.a.func,i18n:ne.a.shape({t:ne.a.func})};var Mo=Object($t.compose)(Ln,Bn((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)})))(Do),Bo=function(e){var t=e.condition,n=e.children;return t?n:null};Bo.propTypes={condition:ne.a.bool.isRequired,children:ne.a.node.isRequired};var Fo=Bo,qo=function(e){return"notifications"===e.type?"notifications":"conversations"};n("PPEH");function Uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zo(e){var t=e.unreadCount,n=e.isRead,r=e.toggleRead,o=Mn()("unread-container",{read:n});return c.a.createElement("span",{className:o},c.a.createElement(Fo,{condition:t>1},c.a.createElement("span",{className:"unread-count"},t)),c.a.createElement(Mo,{isRead:n,toggleRead:r}))}zo.propTypes={unreadCount:ne.a.string,toggleRead:ne.a.func,isRead:ne.a.bool},zo.defaultProps={unreadCount:null,isRead:!1};var Wo,Go=Object($t.compose)(Object(re.connect)((function(e,t){var n=t.item;return{source:qo(n),id:n.id}}),o,(function(e,t,n){var r=t.itemMarkRead,o=t.itemMarkUnread,i=n.item;return Ho(Ho(Ho({},e),i),{},{toggleRead:function(){return i.isRead?o(e):r(e)}})})),Bn((function(e){var t,n=e.unreadCount;return{toggleRead:e.toggleRead,isRead:e.isRead,unreadCount:(t=n,t&&Number.isInteger(t)?t>99?"99+":"".concat(t):null)}})))(zo),Ko=n("Xjjk"),Xo=n.n(Ko),Zo="BASE_SANITIZATION_GROUP",Qo="HTML_SANITIZATION_GROUP";function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jo=["a","b","i","u","em","br","span","small","strong"],Yo=[].concat(Jo,["div","p","ol","ul","li"]),ei=($o(Wo={},Zo,Jo),$o(Wo,Qo,Yo),Wo),ti=new Set;function ni(e,t,n){if(!ti.has(t))return"".concat(t,'="').concat(n,'"')}["onclick","onload","onblur","onfocus","onerror","onkeydown","onkeypress","onkeyup","onkeyup","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup"].forEach((function(e){return ti.add(e)}));var ri=function(e){var t=ei[e];if(!t)throw new Error("The sanitization group does not match one of the accept groups: ".concat(Object.keys(ei).join(",")));return t.reduce((function(e,t){return Object.assign(e,(o=[],(r=t)in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));var n,r,o}),{})},oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo;return Xo()(e,{whiteList:ri(t),onIgnoreTagAttr:ni})},ii=new RegExp("\\".concat("_","([^").concat("_").concat("_","]+)").concat("_"),"g"),ai="Templates must be functions, instead got:";function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ui=function(e){le.error([ai,ci(e),"(".concat(JSON.stringify(e),")")].join(" "))},si=function(e){return"function"==typeof e},li=function(e,t){var n=e.split(ii);!function(e,t){var n=t.length,r=(e.length-1)/2;r!==n&&le.error("The number of template declarations does not match the number of templates provided.",{numberOfTemplates:n,numberOfTemplateDeclarations:r}),t.filter((function(e){return!si(e)})).forEach(ui)}(n,t);var r=n.map((function(e,n){var r,o=t[(n-1)/2];return n%2==1&&o&&si(o)?function(e,t){return function(){return c.a.createElement(c.a.Fragment,null,t(e))}}(e,o):(r=e,function(){return c.a.createElement(c.a.Fragment,null,r)})}));return c.a.createElement(c.a.Fragment,null,r.map((function(e,t){return c.a.createElement(e,{key:t})})))},fi={k:Object(te.oneOfType)([te.string,Object(te.arrayOf)(te.string)]).isRequired,locale:te.string,templates:Object(te.arrayOf)(te.func),params:te.object,parseMarkup:te.bool};function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach((function(t){mi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi=function(e){var t,n,r,o=e.k,i=e.templates,a=e.parseMarkup,u=void 0!==a&&a,s=e.params,l=void 0===s?{}:s,f=e.locale,p=void 0===f?me.DEFAULT_LOCALE:f;if(!o)return null;try{t=i18n.t(o,di(di({},l),{},{$scope:p}))}catch(e){t=o}return i?li(t,i):u?c.a.createElement("span",{dangerouslySetInnerHTML:(n=t,r=Zo,{__html:oi(n,r)})}):t};bi.propTypes=di({},fi);var yi=On(bi),gi=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o={count:Math.floor(r)};return t&&(o.$scope=t),f.a.t("".concat(e).concat(n),o)};function vi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefix,r=void 0===n?"general.how_long_ago.":n,o=t.locale,i=Date.now(),a=i-e;return Number.isNaN(a)?"":a<6e4&&gi(r,o,"just_now")||a<36e5&&gi(r,o,"minutes_ago",a/6e4)||a<864e5&&gi(r,o,"hours_ago",a/36e5)||a<6048e5&&gi(r,o,"days_ago",a/864e5)||a<2592e6&&gi(r,o,"weeks_ago",a/6048e5)||a<31536e6&&gi(r,o,"months_ago",a/2592e6)||gi(r,o,"years_ago",a/31536e6)}Object.assign(vi,{MINUTE_IN_MS:6e4,HOUR_IN_MS:36e5,DAY_IN_MS:864e5,WEEK_IN_MS:6048e5,MONTH_IN_MS:2592e6,YEAR_IN_MS:31536e6});var hi=n("sXcS"),Oi=n.n(hi);var wi=function(e){var t,n,r,o=e.onClick,i=e.className,a=e.color,u=e.children,s=e.size,l="function"==typeof o,f=l?"button":"span",p={className:Mn()(Oi.a.fitIcon,(t={},n=Oi.a.fitIconClickable,r=l,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),i),style:function(e){var t=e.size,n=e.color;return{width:"".concat(t,"px"),height:"".concat(t,"px"),fill:n}}({size:s,color:a})};return l&&Object.assign(p,{onClick:o}),c.a.createElement(f,p,Mr(u))};wi.propTypes={children:Object(te.oneOfType)([te.node,te.func]).isRequired,onClick:te.func,color:te.string,size:te.number,className:te.string},wi.defaultProps={size:16};var _i=wi,Ei=function(){return c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}))},Si=function(){return c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M8 0.25C3.71875 0.25 0.25 3.71875 0.25 8C0.25 12.2812 3.71875 15.75 8 15.75C12.2812 15.75 15.75 12.2812 15.75 8C15.75 3.71875 12.2812 0.25 8 0.25ZM11.8 10.0344C11.9469 10.1813 11.9469 10.4187 11.8 10.5656L10.5625 11.8C10.4156 11.9469 10.1781 11.9469 10.0312 11.8L8 9.75L5.96562 11.8C5.81875 11.9469 5.58125 11.9469 5.43437 11.8L4.2 10.5625C4.05312 10.4156 4.05312 10.1781 4.2 10.0312L6.25 8L4.2 5.96562C4.05312 5.81875 4.05312 5.58125 4.2 5.43437L5.4375 4.19688C5.58437 4.05 5.82188 4.05 5.96875 4.19688L8 6.25L10.0344 4.2C10.1813 4.05312 10.4187 4.05312 10.5656 4.2L11.8031 5.4375C11.95 5.58437 11.95 5.82188 11.8031 5.96875L9.75 8L11.8 10.0344Z"}))},Ci=function(){return c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M8 0C3.6 0 0 3.6 0 8C0 12.4 3.6 16 8 16C12.4 16 16 12.4 16 8C16 3.6 12.4 0 8 0ZM8 12V9H4V7H8V4L12 8L8 12Z"}))},Ti=function(){return c.a.createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{clipPath:"url(#clip0)"},c.a.createElement("path",{d:"M13.3478 10.3128C13.7804 11.0627 13.2373 12 12.3733 12H1.12597C0.260256 12 -0.280259 11.0612 0.151506 10.3128L5.77524 0.562141C6.20806 -0.18807 7.29212 -0.186711 7.72416 0.562141L13.3478 10.3128V10.3128ZM6.7497 8.29687C6.15427 8.29687 5.67158 8.77956 5.67158 9.37499C5.67158 9.97042 6.15427 10.4531 6.7497 10.4531C7.34513 10.4531 7.82783 9.97042 7.82783 9.37499C7.82783 8.77956 7.34513 8.29687 6.7497 8.29687ZM5.72612 4.42157L5.89997 7.60907C5.90811 7.75822 6.03144 7.87499 6.1808 7.87499H7.3186C7.46797 7.87499 7.5913 7.75822 7.59943 7.60907L7.77329 4.42157C7.78208 4.26046 7.6538 4.12499 7.49246 4.12499H6.00692C5.84558 4.12499 5.71733 4.26046 5.72612 4.42157V4.42157Z"})),c.a.createElement("defs",null,c.a.createElement("clipPath",{id:"clip0"},c.a.createElement("rect",{width:"13.5",height:"12"}))))},ji=function(){return c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",null,c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.54839C4.43687 1.54839 1.54839 4.43687 1.54839 8C1.54839 11.5631 4.43687 14.4516 8 14.4516C11.5631 14.4516 14.4516 11.5631 14.4516 8C14.4516 4.43687 11.5631 1.54839 8 1.54839ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z"}),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 11C9.65685 11 11 9.65685 11 8C11 6.34315 9.65685 5 8 5C6.34315 5 5 6.34315 5 8C5 9.65685 6.34315 11 8 11Z"})))},ki=function(){return c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M15.75 8C15.75 12.2802 12.2802 15.75 8 15.75C3.71978 15.75 0.25 12.2802 0.25 8C0.25 3.71978 3.71978 0.25 8 0.25C12.2802 0.25 15.75 3.71978 15.75 8ZM7.10356 12.1036L12.8536 6.35356C13.0488 6.15831 13.0488 5.84172 12.8536 5.64647L12.1465 4.93937C11.9512 4.74409 11.6346 4.74409 11.4393 4.93937L6.75 9.62869L4.56066 7.43934C4.36541 7.24409 4.04881 7.24409 3.85353 7.43934L3.14644 8.14644C2.95119 8.34169 2.95119 8.65828 3.14644 8.85353L6.39644 12.1035C6.59172 12.2988 6.90828 12.2988 7.10356 12.1036Z"}))},xi=function(){return c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M8 0C6.41775 0 4.87103 0.469192 3.55544 1.34824C2.23985 2.22729 1.21447 3.47672 0.608967 4.93853C0.00346631 6.40034 -0.15496 8.00887 0.153721 9.56072C0.462403 11.1126 1.22433 12.538 2.34315 13.6569C3.46197 14.7757 4.88743 15.5376 6.43928 15.8463C7.99113 16.155 9.59966 15.9965 11.0615 15.391C12.5233 14.7855 13.7727 13.7602 14.6518 12.4446C15.5308 11.129 16 9.58225 16 8C15.9977 5.87897 15.1541 3.84547 13.6543 2.34568C12.1545 0.845885 10.121 0.00229405 8 0ZM8 2C9.2449 2.00005 10.4585 2.38984 11.4707 3.11467L3.11467 11.4707C2.47494 10.5743 2.09468 9.51886 2.01567 8.42043C1.93667 7.32199 2.16198 6.22303 2.66684 5.2443C3.17171 4.26558 3.93659 3.44495 4.87745 2.8726C5.81831 2.30025 6.89873 1.99833 8 2ZM8 14C6.75511 13.9999 5.54146 13.6102 4.52934 12.8853L12.8853 4.52933C13.5251 5.42574 13.9053 6.48114 13.9843 7.57957C14.0633 8.67801 13.838 9.77697 13.3332 10.7557C12.8283 11.7344 12.0634 12.555 11.1226 13.1274C10.1817 13.6997 9.10127 14.0017 8 14Z"}))},Pi=function(){return c.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",null,c.a.createElement("path",{d:"M13.152 1.5h.12a.37.37 0 0 0 .364-.375v-.75A.37.37 0 0 0 13.273 0H2.363A.37.37 0 0 0 2 .375v.75a.37.37 0 0 0 .364.375h.12c0 2.518.976 5.181 2.946 6.5-1.979 1.324-2.945 3.997-2.945 6.5h-.121a.37.37 0 0 0-.364.375v.75a.37.37 0 0 0 .364.375h10.909a.37.37 0 0 0 .363-.375v-.75a.37.37 0 0 0-.363-.375h-.121c0-2.518-.976-5.181-2.945-6.5 1.978-1.324 2.944-3.997 2.944-6.5zm-1.455 0a8.09 8.09 0 0 1-.385 2.5H4.324a8.09 8.09 0 0 1-.385-2.5h7.758zM11.312 12H4.324c.628-1.923 1.956-3.25 3.494-3.25 1.538 0 2.867 1.327 3.494 3.25z"})))},Ai=n("r/Mn"),Ii=n.n(Ai);function Ni(e,t){var n=e.dateTime,r=e.subCategory,o=e.status,i=vi(n,{prefix:"realtime_notifications.notifications_drawer.long_ago.",locale:t.locale});return c.a.createElement("footer",{className:Ii.a.itemMeta},n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("time",{dateTime:n},i),c.a.createElement(Ri,null)),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:Ii.a.subCategory},r),c.a.createElement(Ri,null)),o&&c.a.createElement(No,{content:c.a.createElement(yi,{k:"realtime_notifications.notifications_drawer.status.".concat(Li(o))}),containerClassName:Ii.a.tooltip,boxContentClassName:Ii.a.status,position:No.POSITIONS.LEFT},c.a.createElement(_i,{size:10,className:Ii.a.icnStatus},function(e){switch(e){case"rejected":return Si;case"delivered":return Ci;case"late":return Ti;case"new":return ji;case"completed":return ki;case"cancelled":return xi;case"in-progress":return Pi;default:return null}}(o))))}function Ri(){return c.a.createElement(_i,{size:2,className:Ii.a.spacer},Ei)}function Li(e){return Object(p.isNil)(e)?e:e.split("-").join("_")}var Di=function(e){return Object(p.result)(e,"msg_params.sub_category")},Mi=function(e){return Object(p.result)(e,"msg_params.order_status")};Ni.propTypes={dateTime:ne.a.number,subCategory:ne.a.string,status:ne.a.string},Ni.contextTypes={locale:ne.a.string};var Bi=Bn((function(e){var t=e.item;return{dateTime:1e3*(t.updated_at||0),subCategory:Di(t),status:Mi(t)}}))(Ni);n("37AN");function Fi(e){var t=e.unsafeString,n=e.content,r=e.username,o=e.subType,i=e.msgParams,a=e.i18n;return t?c.a.createElement("p",{className:"content"},c.a.createElement("strong",{className:"username"},r),t):n?"DEFAULT_VALUE"===n?c.a.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:a.t("realtime_notifications.types.".concat(o),i)}}):c.a.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:n}}):null}Fi.propTypes={content:ne.a.string,unsafeString:ne.a.string,username:ne.a.string,subType:ne.a.string,msgParams:ne.a.object,i18n:ne.a.shape({t:ne.a.func})};var qi=Object($t.compose)(Ln,Bn((function(e){var t=e.item,n=e.i18n;return{unsafeString:t.userMessage,content:t.content,username:t.username,subType:t.subType,msgParams:t.msg_params,i18n:n}})))(Fi);n("SGQy");function Ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item;if(!t||!t.previewImage)return null;var n=t.previewImage;return c.a.createElement("div",{className:"preview-image",style:{backgroundImage:"url(".concat(n,")")}})}Ui.propTypes={item:ne.a.object};var Hi=Ui;n("XLsX");function Vi(){return c.a.createElement("svg",{width:"8",height:"8",viewBox:"0 0 11 10",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M7.21548 5L10.5817 1.63375C10.7764 1.43906 10.7764 1.12313 10.5817 0.928127L9.79954 0.145939C9.60485 -0.0487482 9.28891 -0.0487482 9.09391 0.145939L5.72798 3.5125L2.36173 0.146252C2.16704 -0.0484356 1.8511 -0.0484356 1.6561 0.146252L0.874226 0.928127C0.679539 1.12281 0.679539 1.43875 0.874226 1.63375L4.24048 5L0.874226 8.36625C0.679539 8.56094 0.679539 8.87687 0.874226 9.07187L1.65641 9.85406C1.8511 10.0487 2.16704 10.0487 2.36204 9.85406L5.72798 6.4875L9.09423 9.85375C9.28891 10.0484 9.60485 10.0484 9.79985 9.85375L10.582 9.07156C10.7767 8.87688 10.7767 8.56094 10.582 8.36594L7.21548 5Z"}))}function zi(e){var t=e.item,n=e.className,r=e.isToast,o=e.dismissable,i=void 0!==o&&o,a=e.onDismiss,u=void 0===a?p.noop:a,s=e.onClick,l=void 0===s?p.noop:s,f=Mn()("drawer-item",n,{toast:r,read:!r&&t.isRead});return c.a.createElement("li",{"data-testid":t.id,className:f,onClick:function(e){l(e,t)}},c.a.createElement("a",{href:t.url,className:"main-action"},c.a.createElement("div",{className:"image-wrapper"},t.profilePicture&&c.a.createElement(Un,{item:t}),!t.profilePicture&&c.a.createElement(Vn,{item:t})),c.a.createElement("div",{className:"item-content-wrapper"},c.a.createElement(qi,{item:t}),!r&&c.a.createElement(Bi,{item:t})),c.a.createElement("div",{className:"item-gutter"},!r&&c.a.createElement("div",{className:"controls"},c.a.createElement(Go,{item:t})),c.a.createElement("div",{className:"preview-image-wrapper"},c.a.createElement(Hi,{item:t})))),i&&c.a.createElement(Wi,{onClick:u}))}function Wi(e){var t=e.onClick;return c.a.createElement("button",{"data-testid":"dismiss",className:"dismiss",onClick:t},c.a.createElement(Vi,null))}zi.propTypes={className:ne.a.string,item:ne.a.object,isToast:ne.a.bool,dismissable:ne.a.bool,onDismiss:ne.a.func,onClick:ne.a.func},Wi.propTypes={onClick:ne.a.func.isRequired};var Gi=Rt("realtime_notifications_shared","ListItem")(zi),Ki=n("VYCE"),Xi=n.n(Ki);function Zi(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Qi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zi(i,r,o,a,c,"next",e)}function c(e){Zi(i,r,o,a,c,"throw",e)}a(void 0)}))}}function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ji(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yi="INITIAL",ea="STARTED",ta="COMPLETED";function na(e){var t,n,r,o=e.notification,i=e.onExpiration,u=function(e){var t=e.startAfter,n=$i(Object(a.useState)(Yi),2),r=n[0],o=n[1],i=Object(a.useRef)(),c=Object(a.useRef)(),u=Object(a.useCallback)((function(){o(ea),c.current=setTimeout(Qi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(ta);case 1:case"end":return e.stop()}}),e)}))),1e3)}),[]),s=Object(a.useCallback)((function(){i.current=setTimeout(Qi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u();case 1:case"end":return e.stop()}}),e)}))),t)}),[]),l=Object(a.useCallback)((function(){i.current&&clearTimeout(i.current),c.current&&clearTimeout(c.current)}),[]),f=Object(a.useCallback)((function(){l(),u()}),[l,u]);return Object(a.useEffect)((function(){return s(),l}),[s,l]),{animationState:r,startAnimating:f}}({startAfter:e.duration-1e3}),s=u.animationState,l=u.startAnimating,f=s===ea||s===ta,p=Mn()(Xi.a.card,(t={},n=Xi.a.expired,r=f,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return Object(a.useEffect)((function(){s===ta&&i()}),[s,i]),c.a.createElement(Gi,{item:o,className:p,isToast:!0,onClick:ra,dismissable:!0,onDismiss:function(e){e.stopPropagation(),l(),ze.count(Ge.NOTIFICATION_TOAST_DISMISSED)}})}function ra(){ze.count(Ge.NOTIFICATION_TOAST_CLICKED)}na.propTypes={notification:ot.isRequired,onExpiration:ne.a.func.isRequired,duration:ne.a.number.isRequired};Rt("realtime_notifications","NotificationToast")(na);var oa=n("fhAi"),ia=n.n(oa);function aa(e){var t=e.notifications,n=e.onToastExpiration,r=Mn()("realtime-notifications",ia.a.container);return t.length?c.a.createElement("ul",{className:r},t.map((function(e){return c.a.createElement(na,{key:e.id,notification:e,duration:1e4,onExpiration:function(){return n(e)}})}))):null}aa.propTypes={notifications:ne.a.arrayOf(ot),onToastExpiration:ne.a.func.isRequired};var ca=Object(p.flow)(Object(re.connect)((function(e){return{notifications:Ce(e)}}),(function(e){return{onToastExpiration:function(t){return e(Xe(t))}}})),Rt("realtime_notifications","Toaster"))(aa);function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=da(e);if(t){var o=da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pa(this,n)}}function pa(e,t){if(t&&("object"===ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(i,e);var t,n,r,o=fa(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e);var n={tabManager:e.tabManager};return t.store=function(e,t){return Object($t.createStore)(bn,function(e){return{settings:{realtimeEnabled:e.realtimeEnabled,soundEnabled:e.soundEnabled},username:e.username}}(e),yn(Object($t.applyMiddleware)(en.withExtraArgument(t))))}(e,n),t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.socket,n=e.tabManager,r=we().locale;return c.a.createElement(re.Provider,{store:this.store},c.a.createElement(Rn,{locale:r},c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{socket:t,tabManager:n}),c.a.createElement(ca,null),c.a.createElement(Qt,null))))}}])&&sa(t.prototype,n),r&&sa(t,r),i}(c.a.Component);ma.propTypes={socket:rt,tabManager:ne.a.object};var ba=Rt("realtime_notifications","Entry")(ma);n("DVPl");function ya(){return(ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ga=function(e){return c.a.createElement(ba,ya({},e,{socket:r,tabManager:F}))},va="undefined"!=typeof document&&document.getElementById("RealtimeNotifications-component");if(va){var ha=window.initialData.RealtimeNotifications;s.a.render(c.a.createElement(ga,ha),va)}t.default=ga},vGzR:function(e,t,n){var r=n("e8zy"),o=n("rjQ/");n("h1NE");function i(e){return null==e}function a(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,a=t.onIgnoreAttr,c=t.safeAttrValue;return o(e,(function(e,t,o,u,s){var l=n[o],f=!1;if(!0===l?f=l:"function"==typeof l?f=l(u):l instanceof RegExp&&(f=l.test(u)),!0!==f&&(f=!1),u=c(o,u)){var p,d={position:t,sourcePosition:e,source:s,isWhite:f};return f?i(p=r(o,u,d))?o+":"+u:p:i(p=a(o,u,d))?void 0:p}}))},e.exports=a},vaBj:function(e,t,n){var r=n("GrKN").FilterCSS,o=n("GrKN").getDefaultWhiteList,i=n("63Hc");function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var c=new r;function u(e){return e.replace(s,"&lt;").replace(l,"&gt;")}var s=/</g,l=/>/g,f=/"/g,p=/&quot;/g,d=/&#([a-zA-Z0-9]*);?/gim,m=/&colon;?/gim,b=/&newline;?/gim,y=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,g=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,v=/u\s*r\s*l\s*\(.*/gi;function h(e){return e.replace(f,"&quot;")}function O(e){return e.replace(p,'"')}function w(e){return e.replace(d,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function _(e){return e.replace(m,":").replace(b," ")}function E(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function S(e){return e=E(e=_(e=w(e=O(e))))}function C(e){return e=u(e=h(e))}var T=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=S(n),"href"===t||"src"===t){if("#"===(n=i.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(y.lastIndex=0,y.test(n))return""}else if("style"===t){if(g.lastIndex=0,g.test(n))return"";if(v.lastIndex=0,v.test(n)&&(y.lastIndex=0,y.test(n)))return"";!1!==r&&(n=(r=r||c).process(n))}return n=C(n)},t.escapeHtml=u,t.escapeQuote=h,t.unescapeQuote=O,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=_,t.clearNonPrintableCharacter=E,t.friendlyAttrValue=S,t.escapeAttrValue=C,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(a,c,u){if(function(t){return!!n||-1!==i.indexOf(e,t)}(a)){if(u.isClosing){var s="[/removed]",l=u.position+s.length;return r.push([!1!==o?o:u.position,l]),o=!1,s}return o||(o=u.position),"[removed]"}return t(a,c,u)},remove:function(e){var t="",n=0;return i.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){return e.replace(T,"")},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=c,t.getDefaultCSSWhiteList=o},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},zr5I:function(e,t){e.exports=s}})}));